git@github.com:mukulchn/d7-10-gcp-proj.git

https://github.com/mukulchn/d7

sudo apt-get update
sudo apt install curl -y
curl https://get.docker.com | sudo bash
sudo usermod -aG docker $(whoami)
#close shell

git clone https://github.com/mukulchn/REST-API-starter.git
cd REST-API-starter

docker build -t nodeapp .


docker run -d -p 8080:8080 --name nodeapp-ins nodeapp
docker ps -a
docker rmi nodeapp

3. Configuration of an application
docker run -d -p 8080:8081 -e PORT=8081  --name nodeapp1 nodeapp:v1


4. Setting up Jenkins CI pipeline
initial admin password: ac65aec214cf468e89d903727264b5ea

http://34.78.146.136:8080/

ticked jenkins github webhook polling...
http://34.78.146.136:8080/github-webhook/

5,6,7,8
gcloud auth activate-service-account sa-mkc-vm-gcr@training-325404.iam.gserviceaccount.com --key-file=training-325404-d4b1ebf9fa72.json

[USERNAME]@[PROJECT-ID].iam.gserviceaccount.com.

gcloud auth print-access-token | docker login -u oauth2accesstoken --password-stdin https://gcr.io

cat $CREDS | docker login -u _json_key --password-stdin https://gcr.io

